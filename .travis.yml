language: go

git:
  submodules: false

before_install:
- sed -i 's/git@github.com:/git:\/\/github.com\//' .gitmodules
- git submodule update --init --recursive
- openssl aes-256-cbc -K $encrypted_dd8e37a50f09_key -iv $encrypted_dd8e37a50f09_iv
  -in travis_blog_rsa.enc -out travis_blog_rsa -d

install:
- mv t2/file4.txt file4.txt
#- go get github.com/spf13/hugo
- cat file4.txt

script:
- cat file4.txt
- echo "travis commit message:" $TRAVIS_COMMIT_MESSAGE >> file4.txt
- cat file4.txt
- rm -f travis_blog_rsa
- git status

after_success:
  - git config --global user.email "lobopraveen@gmail.com"
  - git config --global user.name "lobo"
  - mv file4.txt t2/file4.txt
  - git stash .
  - git checkout master
  - git stash pop
  - git add -A
  - git commit -m "travis for\: $TRAVIS_COMMIT_MESSAGE"
  - git push origin
